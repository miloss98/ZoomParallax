<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ceros Test</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/modern-normalize/3.0.1/modern-normalize.min.css"
      integrity="sha512-q6WgHqiHlKyOqslT/lgBgodhd03Wp4BEqKeW6nNtlOY4quzyG3VoQKFrieaCeSnuVseNKRGpGeDU3qPmabCANg=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div id="#smooth-wrapper">
      <div id="smooth-content">
        <!-- Start of smooth scroller -->

        <!-- Scroll effect -->
        <div class="scroll-effect" id="ScrollEffect">
          <!-- Section 1 -->
          <section class="one">
            <div class="ui-frame">
              <img
                class="ui-frame-graphic"
                src="assets/UI-Frame.svg"
                alt="ui-frame"
              />
              <div class="ui-image-grid">
                <img
                  class="image-grid-tile"
                  src="assets/image-grid-01@2x.webp"
                  alt="grid image"
                />
                <img
                  class="image-grid-tile"
                  src="assets/image-grid-02@2x.webp"
                  alt="grid image"
                />
                <img
                  class="image-grid-tile"
                  src="assets/image-grid-03@2x.webp"
                  alt="grid image"
                />
                <img
                  class="image-grid-tile"
                  src="assets/image-grid-04@2x.webp"
                  alt="grid image"
                />
                <img
                  class="image-grid-tile--invisible"
                  src="assets/image-grid-07@2x.webp"
                  alt="grid image"
                />
                <img
                  class="image-grid-tile"
                  src="assets/image-grid-05@2x.webp"
                  alt="grid image"
                />
                <img
                  class="image-grid-tile"
                  src="assets/image-grid-06@2x.webp"
                  alt="grid image"
                />
                <img
                  class="image-grid-tile"
                  src="assets/image-grid-08@2x.webp"
                  alt="grid image"
                />
                <img
                  class="image-grid-tile"
                  src="assets/image-grid-09@2x.webp"
                  alt="grid image"
                />
              </div>
            </div>

            <!-- Text boxes -->
            <div class="text-box text-box--1">
              <h4>Design and build anything</h4>
              <p>
                Designers have full control, while marketers use pre-approved
                elements to stay on brand. Use templates or start from a blank
                canvas. Apply animations to bring everything to life.
              </p>
            </div>
            <div class="text-box text-box--2">
              <h4>Add animations and interactions</h4>
              <p>
                With a full ibrary of animations built into Ceros, it's easy to
                add movement and energy to every experience.
              </p>
            </div>
            <div class="text-box text-box--3">
              <h4>Publish & edit anything, anytime</h4>
              <p>
                Ceros makes it easy to create and launch immersive experiences
                with unparalleled creative freedom. Drag, drop, and go live in
                minutes.
              </p>
            </div>
            <div class="text-box text-box--4">
              <h4>Analyze & optimize</h4>
              <p>
                Ceros makes it easy to create and launch immersive experiences
                with unparalleled creative freedom. Drag, drop, and go live in
                minutes.
              </p>
            </div>
            <div class="text-box text-box--5">
              <h4>Scale & collaborate</h4>
              <p>
                Streamline teamwork with Ceros. Create, edit, and scale
                immersive content across teamsâ€”without disrupting your workflow.
              </p>
            </div>

            <!-- Dune Tile -->
            <div class="dune-tile">
              <div class="echos-wrap">
                <p class="dune-tile__echoes split">Echoes</p>
              </div>
              <div class="dune-tile__bg2"></div>
              <div class="across-wrap">
                <p class="dune-tile__across split">Across</p>
              </div>
              <div class="through-wrap">
                <p class="dune-tile__through split2">Through</p>
              </div>
              <div class="dune-tile__bg3"></div>
              <p class="dune-tile__the-dunes">
                <span class="dune-tile__the split">the</span>
                <span class="dune-tile__dunes split">Dunes</span>
              </p>
              <div class="dune-tile__bg4"></div>
            </div>

            <!-- SVG Draw Box -->

            <svg
              class="designer-box"
              width="700"
              height="160"
              xmlns="http://www.w3.org/2000/svg"
            >
              <rect
                class="designer-box-rect"
                width="698"
                height="158"
                x="1"
                y="1"
                fill="#FFFFFF"
                fill-opacity="0"
                stroke-width="2px"
                stroke="#ffc042"
              />
            </svg>

            <!-- INSPECTOR PANEL -->
            <img
              class="inspector-panel-ui"
              src="assets/Inspector panel.svg"
              alt="inspector panel ui"
            />

            <!-- DUNES TILES STACKED -->
            <img
              class="dunes-blank dunes-blank--3"
              src="assets/dunes-blank.webp"
              alt="dunes repeated"
            />
            <img
              class="dunes-blank dunes-blank--2"
              src="assets/dunes-blank.webp"
              alt="dunes repeated"
            />
            <img
              class="dunes-blank dunes-blank--1"
              src="assets/dunes-blank.webp"
              alt="dunes repeated"
            />

            <!-- ANALYTICS -->
            <img
              class="analytics-dashboard"
              src="assets/analytics-dashboard.svg"
              alt="analytics dashboard"
            />

            <!-- CURSORS -->
            <div class="cursor cursor--designer">
              <img
                src="assets/pointer-designer.png"
                alt="pointer Designer"
              />Designer
            </div>
            <div class="cursor cursor--marketer">
              <img src="assets/pointer-marketer.png" alt="pointer Marketer" />
              Marketer
            </div>
            <div class="cursor cursor--boss">
              <img src="assets/pointer-boss.png" alt="pointer boxx" /> Your Boss
            </div>

            <!-- DUNES MOBILE GRAPHIC -->
            <img
              class="dunes-mobile"
              src="assets/Dunes_mobile@1x.webp"
              alt="Dunes Mobile Graphic"
            />
          </section>
        </div>

        <!-- H-SCROLL TRACK -->

        <div class="horizontal-scroll__wrapper racesWrapper">
          <div class="horizontal-scroll__track races">
            <!-- <div class="dune-spacer">spacer</div> -->

            <div class="h-dune">
              <img
                class="dunes-desktop"
                src="assets/Dunes_desktop@2x.webp"
                alt="dunes desktop"
              />
            </div>

            <div class="h-dune">
              <img
                class="dunes-card"
                src="assets/Card@2x.webp"
                alt="dunes card"
              />
            </div>

            <div class="h-dune">
              <img
                class="dunes-desktop2"
                src="assets/Dunes_desktop2@2x.webp"
                alt="dunes desktop2"
              />
            </div>

            <div class="h-dune">
              <img
                class="dunes-video"
                src="assets/Video@2x.webp"
                alt="dunes video"
              />
            </div>

            <div class="h-dune">
              <img
                class="dunes-tablet"
                src="assets/Dunes_Tablet@2x.webp"
                alt="dunes tablet"
              />
            </div>

            <!-- <div class="dune-spacer2">spacer</div> -->
          </div>
        </div>

        <!-- End of smooth scroller -->
      </div>
    </div>
  </body>

  <!-- GSAP Scripts -->
  <script src="https://cdn.jsdelivr.net/npm/gsap@3.13.0/dist/gsap.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/gsap@3.13.0/dist/ScrollTrigger.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/gsap@3.13.0/dist/SplitText.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/gsap@3.13.0/dist/ScrollSmoother.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/gsap@3.13.0/dist/DrawSVGPlugin.min.js"></script>

  <script>
    // use a script tag or an external JS file
    document.addEventListener("DOMContentLoaded", (event) => {
      gsap.registerPlugin(
        ScrollTrigger,
        SplitText,
        ScrollSmoother,
        DrawSVGPlugin
      );
      // gsap code here!
      gsap.to(".box", {
        rotation: 360,
        duration: 2,
        opacity: 1,
        scale: 1,
      });

      // Set Smooth scroller container
      ScrollSmoother.create({
        wrapper: "#smooth-wrapper",
        content: "#smooth-content",
        smooth: 1,
        effects: true,
      });

      // Split text effects
      let mySplitText = new SplitText(".split", { type: "chars" });
      let chars = mySplitText.chars;

      // Detect horizontal scroll

      const races = document.querySelector(".races");
      console.log(races.offsetWidth);

      function getScrollAmount() {
        let racesWidth = races.scrollWidth;
        return -(racesWidth - window.innerWidth / 2);
      }

      const tween = gsap.fromTo(
        races,
        { x: () => window.innerWidth / 2 },
        {
          x: getScrollAmount,
          duration: 3,
          ease: "none",
        }
      );

      // 2. Horizontal Scroll Trigger

      ScrollTrigger.create({
        trigger: ".racesWrapper",
        start: "center center",
        end: () => `+=${getScrollAmount() * -1}`,
        pin: true,
        animation: tween,
        scrub: 1,
        invalidateOnRefresh: true,
      });

      // 3. Fetch items for container query

      const sections = gsap.utils.toArray(".races .h-dune");

      sections.forEach((section) => {
        ScrollTrigger.create({
          trigger: section,
          containerAnimation: tween,
          animation: gsap.to(section.querySelector("img"), {
            scale: 0.5,
            opacity: 0,
          }),
          scrub: true,
          start: "left 20%",
        });
      });

      // 1. Timeline and Scroll Trigger
      let scrollTL = gsap.timeline({
        scrollTrigger: {
          trigger: ".one",
          start: "center center",
          end: "+=5500", // Increased scroll distance
          scrub: 1,
          pin: ".scroll-effect",
        },
      });
      // Zoom UI frame
      scrollTL.to(".ui-frame-graphic", {
        scale: 2,
        z: 2500,
        transformOrigin: "center center",
        opacity: 0,
        y: 10,
        duration: 2,
      });
      // Create stagger fade with each image tile
      scrollTL.to(
        ".image-grid-tile",
        {
          opacity: 0,
          scale: 0.9,
          delay: 0,
          x: "2%",
          stagger: { amount: 0.5, from: "random" },
          duration: 2,
        },
        "<0.1"
      );
      // Zoom image tiles
      scrollTL.to(
        ".ui-image-grid",
        {
          scale: 3,
          ease: "power1.inOut",
          xPercent: 40,
          transformOrigin: "center center",
          duration: 3,
        },
        "<"
      );
      scrollTL.to(
        ".dune-tile",
        {
          scale: 6.7,
          ease: "power1.inOut",
          xPercent: 40,
          transformOrigin: "center center",
          duration: 2.5,
        },
        "<0.1"
      );
      // Text Split Animation
      scrollTL.from(chars, {
        yPercent: 30,
        filter: "blur(8px)",
        stagger: 0.2,
        opacity: 0,
        ease: "power1.inOut",
        duration: 1,
      });
      scrollTL.from(".text-box--1", {
        opacity: 0,
        xPercent: -50,
        ease: "none",
        duration: 3,
        yoyo: true,
        repeat: 1,
        repeatDelay: 2,
      });
      scrollTL.from(
        ".text-box--2",
        {
          opacity: 0,
          xPercent: 50,
          duration: 3,
        },
        "-=50%"
      );
      scrollTL.from(
        ".inspector-panel-ui",
        {
          y: "100vh",
          opacity: 0,
          scale: 0.5,
          ease: "power1.inOut",
          duration: 3,
          yoyo: true,
          repeat: 1,
          repeatDelay: 2,
        },
        "-=50%"
      );

      scrollTL.to(
        ".text-box--2",
        {
          opacity: 0,
          xPercent: 50,
          duration: 3,
        },
        "-=50%"
      );

      // BEGIN ANALYTICS PART 2

      scrollTL.to(".dune-tile", {
        scale: 4.75,
        x: -300,
        y: -150,
        ease: "none",
        transformOrigin: "center center",
        duration: 2.5,
      });
      scrollTL.from(
        ".text-box--3",
        {
          xPercent: -100,
          opacity: 0,
          duration: 4,
        },
        "<"
      );
      scrollTL.to(
        ".dunes-blank--1",
        {
          opacity: 0.75,
          duration: 1,
          ease: "none",
        },
        "<0.25"
      );
      scrollTL.to(
        ".dunes-blank--2",
        {
          opacity: 0.5,
          duration: 1,
          ease: "none",
        },
        "<0.2"
      );
      scrollTL.to(
        ".dunes-blank--3",
        {
          opacity: 0.25,
          duration: 1,
          ease: "none",
        },
        "<0.25"
      );

      scrollTL.to(
        ".cursor--designer",
        {
          x: 88,
          y: 260,
          duration: 2.5,
          ease: "power1.inOut",
        },
        "<0.5"
      );
      scrollTL.to(
        ".cursor--marketer",
        {
          x: 190,
          y: 190,
          duration: 2.5,
          ease: "power1.inOut",
        },
        "<0.5"
      );
      scrollTL.from(".designer-box-rect", {
        duration: 1,
        drawSVG: 0,
        attr: {
          fill: "#FFFFFF",
          fillOpacity: 0,
        },
      });
      scrollTL.to(".dune-tile__across div", {
        y: 100,
        opacity: 0,
        duration: 2.5,
        filter: "blur(8px)",
        ease: "power1.inOut",
        stagger: {
          each: 0.2,
          from: "end",
        },
      });
      scrollTL.from(
        ".dune-tile__through",
        {
          yPercent: 30,
          filter: "blur(8px)",
          opacity: 0,
          ease: "power1.inOut",
          duration: 4,
          delay: 1,
        },
        "<1.5"
      );
      scrollTL.to(".cursor--marketer, .cursor--designer", {
        delay: 3,
        yPercent: 100,
        opacity: 0,
        duration: 1.5,
        ease: "power1.inOut",
      });
      scrollTL.to(
        ".designer-box-rect",
        {
          duration: 1,
          drawSVG: 0,
          attr: {
            fill: "#FFFFFF",
            fillOpacity: 0,
          },
        },
        "-=50%"
      );
      scrollTL.to(
        ".text-box--3",
        {
          xPercent: -100,
          opacity: 0,
          duration: 2,
        },
        "<"
      );

      scrollTL.to(".dune-tile", {
        x: 500,
        y: -80,
        duration: 2.5,
      });
      scrollTL.to(
        ".dunes-blank--1, .dunes-blank--2, .dunes-blank--3",
        {
          x: 500,
          opacity: 0,
          duration: 2.5,
        },
        "<"
      );
      scrollTL.to(
        ".analytics-dashboard",
        {
          opacity: 1,
          duration: 5,
        },
        "<"
      );
      scrollTL.from(
        ".text-box--4",
        {
          opacity: 0,

          xPercent: 50,
          ease: "none",
          duration: 4,
          yoyo: true,
          repeat: 1,
          repeatDelay: 2,
        },
        "<2"
      );
      scrollTL.to(
        ".dune-tile",
        {
          x: -425,
          duration: 2.5,
        },
        "-=50%"
      );
      scrollTL.to(
        ".analytics-dashboard",
        {
          opacity: 0,
          duration: 2.5,
        },
        "-=50%"
      );
      scrollTL.from(
        ".text-box--5",
        {
          opacity: 0,

          xPercent: -50,
          ease: "none",
          duration: 1,
        },
        "-=50%"
      );
      scrollTL.to(
        ".cursor--designer",
        {
          x: 80,
          y: 250,
          duration: 2.5,
          opacity: 1,
          ease: "power1.inOut",
        },
        "<0.5"
      );
      scrollTL.to(
        ".cursor--marketer",
        {
          y: 50,
          x: -510,
          duration: 2.5,
          opacity: 1,
          ease: "power1.inOut",
        },
        "<0.5"
      );
      scrollTL.to(
        ".cursor--boss",
        {
          y: 50,
          x: 250,
          opacity: 1,
          duration: 2.5,
          ease: "power1.inOut",
        },
        "-=50%"
      );
      scrollTL.to(".text-box--5", {
        opacity: 0,

        xPercent: -50,
        ease: "none",
        duration: 2,
        delay: 1,
      });
      scrollTL.to(".dunes-mobile", {
        opacity: 1,
        y: -350,
        ease: "power2.inOut",
        duration: 4,
      });
      scrollTL.to(".dunes-mobile, .dune-tile", {
        opacity: 0,
        x: -1350,
        ease: "power2.inOut",
        duration: 4,
      });
      scrollTL.to(
        ".cursor--designer",
        {
          x: -80,
          y: -250,
          opacity: 0,
          duration: 2.5,
          ease: "power1.inOut",
        },
        "<0.5"
      );
      scrollTL.to(
        ".cursor--marketer",
        {
          y: -50,
          x: -510,
          opacity: 0,
          duration: 2.5,
          ease: "power1.inOut",
        },
        "<0.5"
      );
      scrollTL.to(
        ".cursor--boss",
        {
          y: -50,
          x: -250,
          opacity: 0,
          duration: 2.5,
          ease: "power1.inOut",
        },
        "-=50%"
      );
    });
  </script>
</html>
